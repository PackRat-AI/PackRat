name = "packrat-api"
main = "src/index.ts"
compatibility_date = "2024-04-01"
compatibility_flags = ["nodejs_compat"]
keep_vars = true

[vars]
NEON_DATABASE_URL = "postgres://user:pass@localhost/db"
JWT_SECRET = "secret"
OPENAI_API_KEY = "key"
EMAIL_PROVIDER = "resend"
RESEND_API_KEY = "key"
EMAIL_FROM = "test@example.com"
PASSWORD_RESET_SECRET = "secret"
WEATHER_API_KEY = "key"
OPENWEATHER_KEY = "key"
CLOUDFLARE_ACCOUNT_ID = "id"
R2_ACCESS_KEY_ID = "key"
R2_SECRET_ACCESS_KEY = "key"
R2_BUCKET_NAME = "bucket"

[[queues.producers]]
queue = "packrat-etl-queue"
binding = "ETL_QUEUE"

[[queues.consumers]]
queue = "packrat-etl-queue"
max_batch_size = 10
max_batch_timeout = 5
