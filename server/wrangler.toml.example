name = "packrat_api"
main = "src/index.ts"
compatibility_date = "2024-03-14"
compatibility_flags = ["nodejs_compat"] # Sometimes this is needed for tests
# node_compat = true

[[ d1_databases ]]
binding = "DB"
database_name = "production"
database_id = "3f9677cd-7dd9-4a2c-92c6-be5dbbf47baa"

[[queues.producers]]
  queue = "packrat-error-queue"
  binding = "ERROR_QUEUE"

[[queues.consumers]]
  queue = "packrat-error-queue"
  max_batch_size = 100
  max_batch_timeout = 30

[[r2_buckets]]
  bucket_name = "packrat-error-bucket"
  binding = "ERROR_BUCKET"

# Add vars below
# [vars]
# GOOGLE_CLIENT_ID=""
# GOOGLE_CLIENT_SECRET=""
# STMP_EMAIL=""
# STMP_PASSWORD=""
# JWT_SECRET=""
# SEND_GRID_API_KEY=""
# MAPBOX_ACCESS_TOKEN=""
# OSM_URI=""
# WEATHER_URL=""
# WEATHER_WEEK_URL=""
# OPENWEATHER_KEY=""